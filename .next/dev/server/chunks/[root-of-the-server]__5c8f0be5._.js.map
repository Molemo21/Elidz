{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/liqui/OneDrive/Desktop/ELI/Elidz/app/api/auth/sync-cookies/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport { createServerClient } from '@supabase/ssr'\nimport type { Database } from '@/lib/supabase/database.types'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { accessToken, refreshToken } = await request.json()\n\n    if (!accessToken || !refreshToken) {\n      return NextResponse.json(\n        { success: false, error: 'Missing tokens' },\n        { status: 400 }\n      )\n    }\n\n    // Create response to set cookies\n    const response = NextResponse.json({ success: true })\n\n    // Create Supabase client with cookie handling\n    const supabase = createServerClient<Database>(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n      {\n        cookies: {\n          getAll() {\n            return request.cookies.getAll()\n          },\n          setAll(cookiesToSet) {\n            cookiesToSet.forEach(({ name, value, options }) => {\n              response.cookies.set(name, value, options)\n            })\n          },\n        },\n      }\n    )\n\n    // Set the session - this will set cookies via the setAll callback\n    const { error } = await supabase.auth.setSession({\n      access_token: accessToken,\n      refresh_token: refreshToken,\n    })\n\n    if (error) {\n      console.error('Failed to set session in API route:', error)\n      return NextResponse.json(\n        { success: false, error: error.message },\n        { status: 500 }\n      )\n    }\n\n    return response\n  } catch (error: any) {\n    console.error('API route error:', error)\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    )\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,GAAG,MAAM,QAAQ,IAAI;QAExD,IAAI,CAAC,eAAe,CAAC,cAAc;YACjC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAiB,GAC1C;gBAAE,QAAQ;YAAI;QAElB;QAEA,iCAAiC;QACjC,MAAM,WAAW,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;QAEnD,8CAA8C;QAC9C,MAAM,WAAW,IAAA,2LAAkB,sUAGjC;YACE,SAAS;gBACP;oBACE,OAAO,QAAQ,OAAO,CAAC,MAAM;gBAC/B;gBACA,QAAO,YAAY;oBACjB,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;wBAC5C,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;oBACpC;gBACF;YACF;QACF;QAGF,kEAAkE;QAClE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,CAAC;YAC/C,cAAc;YACd,eAAe;QACjB;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,uCAAuC;YACrD,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC,GACvC;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO;IACT,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}