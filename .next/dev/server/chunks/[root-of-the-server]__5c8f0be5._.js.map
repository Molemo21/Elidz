{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/liqui/OneDrive/Desktop/ai-funding-platform/app/api/auth/sync-cookies/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { createServerClient } from '@supabase/ssr'\r\nimport type { Database } from '@/lib/supabase/database.types'\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { accessToken, refreshToken } = await request.json()\r\n\r\n    if (!accessToken || !refreshToken) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'Missing tokens' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Create response to set cookies\r\n    const response = NextResponse.json({ success: true })\r\n\r\n    // Create Supabase client with cookie handling\r\n    const supabase = createServerClient<Database>(\r\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n      {\r\n        cookies: {\r\n          getAll() {\r\n            return request.cookies.getAll()\r\n          },\r\n          setAll(cookiesToSet) {\r\n            cookiesToSet.forEach(({ name, value, options }) => {\r\n              response.cookies.set(name, value, options)\r\n            })\r\n          },\r\n        },\r\n      }\r\n    )\r\n\r\n    // Set the session - this will set cookies via the setAll callback\r\n    const { error } = await supabase.auth.setSession({\r\n      access_token: accessToken,\r\n      refresh_token: refreshToken,\r\n    })\r\n\r\n    if (error) {\r\n      console.error('Failed to set session in API route:', error)\r\n      return NextResponse.json(\r\n        { success: false, error: error.message },\r\n        { status: 500 }\r\n      )\r\n    }\r\n\r\n    return response\r\n  } catch (error: any) {\r\n    console.error('API route error:', error)\r\n    return NextResponse.json(\r\n      { success: false, error: error.message },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,GAAG,MAAM,QAAQ,IAAI;QAExD,IAAI,CAAC,eAAe,CAAC,cAAc;YACjC,OAAO,+QAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAiB,GAC1C;gBAAE,QAAQ;YAAI;QAElB;QAEA,iCAAiC;QACjC,MAAM,WAAW,+QAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;QAEnD,8CAA8C;QAC9C,MAAM,WAAW,IAAA,wSAAkB,sUAGjC;YACE,SAAS;gBACP;oBACE,OAAO,QAAQ,OAAO,CAAC,MAAM;gBAC/B;gBACA,QAAO,YAAY;oBACjB,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;wBAC5C,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;oBACpC;gBACF;YACF;QACF;QAGF,kEAAkE;QAClE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,CAAC;YAC/C,cAAc;YACd,eAAe;QACjB;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,uCAAuC;YACrD,OAAO,+QAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC,GACvC;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO;IACT,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}